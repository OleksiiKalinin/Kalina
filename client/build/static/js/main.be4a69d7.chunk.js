(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(28),a=n(38),r=n(5),i="ADD-POST",o="UPDATE-NEW-POST-TEXT",l="SET_USER_PROFILE",u={posts:[{id:1,message:"Hi, how are you?",likesCount:12},{id:2,message:"It's my first post",likesCount:11},{id:3,message:"Blabla",likesCount:11},{id:4,message:"Dada",likesCount:11}],newPostText:"",profile:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n={id:5,message:e.newPostText,likesCount:0};return Object(r.a)(Object(r.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[n]),newPostText:""});case o:return Object(r.a)(Object(r.a)({},e),{},{newPostText:t.newText});case l:return Object(r.a)(Object(r.a)({},e),{},{profile:t.profile});default:return e}},d={dialogs:[],messages:[],chat:{},isDialogSelected:!1},h=function(e){return{type:"SET_MESSAGES",messages:e}},b=function(e){return{type:"SET_DIALOGS",dialogs:e}},p=function(e){return{type:"SET_CHAT",chat:e}},O=function(e){return{type:"SET_IS_DIALOG_SELECTED",isDialogSelected:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":return Object(r.a)({},e);case"SET_MESSAGES":return Object(r.a)(Object(r.a)({},e),{},{newMessageBody:"",messages:t.messages});case"SET_DIALOGS":return Object(r.a)(Object(r.a)({},e),{},{dialogs:t.dialogs});case"SET_CHAT":return Object(r.a)(Object(r.a)({},e),{},{chat:t.chat});case"SET_IS_DIALOG_SELECTED":return Object(r.a)(Object(r.a)({},e),{},{isDialogSelected:t.isDialogSelected});default:return e}},f={},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return e},x="FOLLOW",v="UNFOLLOW",w="SET_USERS",k="SET_CURRENT_PAGE",N="SET_TOTAL_USERS_COUNT",S="TOGGLE_IS_FETCHING",y="TOGGLE_IS_FOLLOWING_PROGRESS",E={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!0}):e}))});case v:return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!1}):e}))});case w:return Object(r.a)(Object(r.a)({},e),{},{users:t.users});case k:return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.currentPage});case N:return Object(r.a)(Object(r.a)({},e),{},{totalUsersCount:t.count});case S:return Object(r.a)(Object(r.a)({},e),{},{isFetching:t.isFetching});case y:return Object(r.a)(Object(r.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(a.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},T={token:null,user:{}},C=function(e,t){return{type:"LOGIN",jwtSecret:e,user:t}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return sessionStorage.setItem("storageName",JSON.stringify({token:t.jwtSecret,user:t.user})),Object(r.a)(Object(r.a)({},e),{},{token:t.jwtSecret,user:t.user});case"LOGOUT":return sessionStorage.removeItem("storageName"),Object(r.a)(Object(r.a)({},e),{},{token:null,user:{}});default:return e}},P=Object(c.b)({profilePage:j,dialogsPage:m,sidebar:g,usersPage:_,auth:I}),A=Object(c.c)(P),D=n(1),z=n(19),B=n.n(z),G=(n(60),n(61),n(12)),L=n(9),F=n(3),U=n.n(F),H=n(6),M=n(4),q=n(8),R=function(){var e=Object(D.useState)(!1),t=Object(M.a)(e,2),n=t[0],s=t[1],c=Object(D.useState)(null),a=Object(M.a)(c,2),r=a[0],i=a[1];return{loading:n,error:r,request:Object(D.useCallback)(function(){var e=Object(H.a)(U.a.mark((function e(t){var n,c,a,r,o,l=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"GET",c=l.length>2&&void 0!==l[2]?l[2]:null,a=l.length>3&&void 0!==l[3]?l[3]:{},e.prev=3,c&&(c=JSON.stringify(c),a["Content-Type"]="application/json"),e.next=7,fetch("https://kalinaserver.herokuapp.com".concat(t),{method:n,body:c,headers:a});case 7:return r=e.sent,e.next=10,r.json();case 10:if(o=e.sent,r.ok){e.next=13;break}throw new Error(o.message||"Something goes wrong");case 13:return s(!1),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(3),s(!1),i(e.t0.message),e.t0;case 22:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t){return e.apply(this,arguments)}}(),[]),clearError:Object(D.useCallback)((function(){return i(null)}),[])}},W=n.p+"static/media/user.c979855e.png",J=(n(66),n(96)),K=Object(q.b)((function(e){return{token:e.auth.token}}),(function(e){return{logout:function(){e({type:"LOGOUT"})}}}))((function(e){var t=e.logout,n=Object(L.f)(),c=R(),a=(c.error,c.request),r=(c.clearError,Object(D.useState)("")),i=Object(M.a)(r,2),o=i[0],l=i[1],u=Object(D.useState)([]),j=Object(M.a)(u,2),d=j[0],h=j[1];Object(D.useEffect)(Object(H.a)(U.a.mark((function t(){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=13;break}return t.prev=1,t.next=4,a("/api/users/post/users-search","POST",{query:o},{Authorization:"Bearer ".concat(e.token)});case 4:n=t.sent,h(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:t.next=14;break;case 13:h([]);case 14:case"end":return t.stop()}}),t,null,[[1,8]])}))),[o]);return Object(s.jsxs)("header",{className:"header",children:[Object(s.jsx)("span",{className:"label",children:Object(s.jsx)(G.b,{to:"/",children:Object(s.jsx)("big",{children:"Kalina"})})}),Object(s.jsxs)("div",{className:"search-user",children:[Object(s.jsx)("i",{className:"material-icons",style:{position:"absolute",top:"50%",transform:"translateY(-50%)"},children:"search"}),Object(s.jsx)("input",{onBlur:function(){},type:"text",placeholder:"Search...",id:"search-input",value:o,onChange:function(e){return l(e.target.value)}}),0!==d.length&&Object(s.jsx)("div",{className:"dropdown-content",children:d.map((function(e){return Object(s.jsx)(G.b,{to:"/profile/"+e._id,onClick:function(){return l("")},children:Object(s.jsxs)("div",{children:[Object(s.jsx)(J.a,{src:e.profileImg}),Object(s.jsx)("p",{children:e.displayName})]})},e._id)}))})]}),Object(s.jsxs)("div",{className:"navigation",children:[Object(s.jsx)(G.b,{to:"/",children:Object(s.jsx)("i",{className:"material-icons",children:"home"})}),Object(s.jsx)(G.b,{to:"/profile",children:Object(s.jsx)("i",{className:"material-icons",children:"person"})}),Object(s.jsx)(G.b,{to:"/dialogs",children:Object(s.jsx)("i",{className:"material-icons",children:"message"})}),Object(s.jsx)(G.b,{to:"/users",children:Object(s.jsx)("i",{className:"material-icons",children:"people"})}),Object(s.jsx)(G.b,{to:"/",onClick:function(e){e.preventDefault(),t(),n.push("/")},children:Object(s.jsx)("i",{className:"material-icons",children:"exit_to_app"})})]})]})})),Y=(n(68),n(69),n(70),n(22)),X=n.n(Y),Q=new X.a("b634efb073fba40fbf3a",{cluster:"eu"}),V=Object(q.b)((function(e){return{dialogs:e.dialogsPage.dialogs,token:e.auth.token,user:e.auth.user}}),(function(e){return{setDialogs:function(t){e(b(t))},setMessages:function(t){e(h(t))},setChat:function(t){e(p(t))},setIsDialogSelected:function(t){e(O(t))}}}))((function(e){var t=R(),n=(t.loading,t.error,t.request),c=(t.clearError,Object(D.useState)({})),a=Object(M.a)(c,2),r=a[0],i=a[1],o=Object(D.useState)({}),l=Object(M.a)(o,2),u=l[0],j=l[1],d="",h="",b=0;Object(D.useEffect)((function(){e.extra.forEach((function(t){t.id!==e.user._id&&j(t)}))}),[]);var p=function(){var t=Object(H.a)(U.a.mark((function t(){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("/api/chats/get/lastMessage?id=".concat(e.id),"GET",null,{Authorization:"Bearer ".concat(e.token)});case 3:s=t.sent,i(s),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();Object(D.useEffect)((function(){p();var e=Q.subscribe("messages");return e.bind("newMessage",(function(){p()})),function(){e.unbind_all(),e.unsubscribe()}}),[e.id]);var O=function(){var t=Object(H.a)(U.a.mark((function t(){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("/api/chats/get/conversation?id=".concat(e.id),"GET",null,{Authorization:"Bearer ".concat(e.token)});case 3:s=t.sent,e.setMessages(s.conversation),e.setChat({chatName:u.displayName||s.chatName,chatImg:u.profileImg||s.chatImg,chatId:e.id}),e.setIsDialogSelected(!0),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(1);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();try{d=r.owner.displayName,h=r.message,b=r.timestamp}catch(m){}return Object(s.jsx)("div",{onClick:O,className:"dialogItem",children:Object(s.jsxs)("div",{className:"dialogItem__info",children:[Object(s.jsx)("div",{className:"dialogItem__info-avatar",children:Object(s.jsx)(J.a,{src:u.profileImg})}),Object(s.jsxs)("div",{className:"dialogItem__info-main",children:[Object(s.jsx)("div",{children:Object(s.jsx)("h1",{children:u.displayName||e.name})}),Object(s.jsxs)("span",{className:"dialogItem__info-message",children:[d,": ",h]})]}),Object(s.jsx)("div",{className:"timaStamp",children:Object(s.jsxs)("small",{children:[new Date(parseInt(b)).getMonth(),".",new Date(parseInt(b)).getDay()]})})]})})})),Z=(n(71),function(){return Object(s.jsx)("div",{className:"wrapper",children:Object(s.jsxs)("div",{className:"lds-ellipsis",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})})}),$=new X.a("b634efb073fba40fbf3a",{cluster:"eu"}),ee=Object(q.b)((function(e){return{dialogs:e.dialogsPage.dialogs,isDialogSelected:e.dialogsPage.isDialogSelected,user:e.auth.user,token:e.auth.token}}),(function(e){return{setDialogs:function(t){e(b(t))}}}))((function(e){var t=R(),n=(t.error,t.request),c=(t.clearError,Object(D.useState)(!0)),a=Object(M.a)(c,2),r=a[0],i=a[1],o=Object(D.useState)(""),l=Object(M.a)(o,2),u=l[0],j=l[1],d=Object(D.useRef)(null),h=Object(D.useRef)(null),b=Object(D.useRef)(null),p=function(){var t=Object(H.a)(U.a.mark((function t(){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("/api/chats/get/conversations","GET",null,{Authorization:"Bearer ".concat(e.token)});case 3:s=t.sent,e.setDialogs(s),i(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();Object(D.useEffect)((function(){e.isDialogSelected?d.current.classList.remove("show"):d.current.classList.add("show")}),[e.isDialogSelected]),Object(D.useEffect)((function(){p(),$.subscribe("chats").bind("newChat",(function(){p()}))}),[]);var O=function(){var t=Object(H.a)(U.a.mark((function t(){var s,c,a,r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=prompt("Enter a chat name"),c=prompt("Send a welcome message"),!s||!c){t.next=16;break}return t.prev=3,a="",t.next=7,n("/api/chats/new/conversation","POST",{chatName:s},{Authorization:"Bearer ".concat(e.token)});case 7:return r=t.sent,a=r._id,t.next=11,n("/api/chats/new/message?id=".concat(a),"POST",{message:c,timestamp:Date.now()},{Authorization:"Bearer ".concat(e.token)});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(){return t.apply(this,arguments)}}();return Object(s.jsxs)("div",{ref:d,className:"dialogs show",children:[Object(s.jsx)("div",{ref:h,className:"dialogs__header",children:Object(s.jsxs)("div",{className:"search-chats",children:[Object(s.jsx)("i",{className:"material-icons",style:{position:"absolute",top:"50%",transform:"translateY(-50%)",paddingLeft:"5px"},children:"search"}),Object(s.jsx)("input",{type:"text",placeholder:"Search the chat or start new",id:"search-chats-input",value:u,onChange:function(e){return j(e.target.value)}}),Object(s.jsx)("i",{onClick:O,className:"material-icons",style:{position:"absolute",top:"50%",right:"0",transform:"translateY(-50%)",paddingRight:"5px"},children:"add"})]})}),Object(s.jsx)("div",{ref:b,className:"dialogs__items",children:r?Object(s.jsx)(Z,{}):e.dialogs.map((function(e){return Object(s.jsx)(V,{name:e.name,id:e.id,timestamp:e.timestamp,extra:e.extra},e.id)}))})]})})),te=n(95),ne=n(93),se=n(94),ce=(n(72),n(73),function(e){return Object(s.jsxs)("div",{className:"messages__item  ".concat(e.message.owner.displayName===e.userName&&"messages__receiver"),children:[Object(s.jsx)("span",{className:"message__name",children:e.message.owner.displayName}),Object(s.jsx)("div",{className:"message",children:e.message.message}),Object(s.jsx)("span",{className:"message__timestamp",children:new Date(parseInt(e.message.timestamp)).toISOString().replace(/T/g," ").replace(/\..*/,"")})]})}),ae=(n.p,n(37)),re=n.n(ae),ie=function(e){var t=R(),n=(t.loading,t.error,t.request),c=(t.clearError,Object(D.useState)("")),a=Object(M.a)(c,2),r=a[0],i=a[1],o=Object(D.useState)(!1),l=Object(M.a)(o,2),u=l[0],j=l[1],d=Object(D.useState)(null),h=Object(M.a)(d,2),b=h[0],p=h[1],O=function(){var t=Object(H.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(""),j(!1),t.prev=2,t.next=5,n("/api/chats/new/message?id=".concat(e.chat.chatId),"POST",{message:r,timestamp:Date.now()},{Authorization:"Bearer ".concat(e.token)});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(){return t.apply(this,arguments)}}(),m=function(){try{var e=document.querySelector(".messages__body");e.scrollTop=e.scrollHeight}catch(t){}};return Object(D.useEffect)((function(){return window.addEventListener("resize",(function(){return m()})),function(){return window.removeEventListener("resize",(function(){return m()}))}}),[]),Object(D.useEffect)((function(){var t=new X.a("b634efb073fba40fbf3a",{cluster:"eu"}).subscribe("messages");return t.bind("newMessage",Object(H.a)(U.a.mark((function t(){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("/api/chats/get/conversation?id=".concat(e.chat.chatId),"GET",null,{Authorization:"Bearer ".concat(e.token)});case 3:s=t.sent,e.setMessages(s.conversation),m(),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))),m(),function(){t.unbind_all(),t.unsubscribe()}}),[e.chat.chatId]),Object(D.useEffect)((function(){b&&i((function(e){return e+b.emoji}))}),[b]),Object(s.jsxs)("div",{className:"messages",children:[Object(s.jsxs)("div",{className:"messages__header",children:[Object(s.jsx)("div",{className:"btnBack",style:{height:"50px",width:"30px"},children:Object(s.jsx)("i",{onClick:function(){return e.setIsDialogSelected(!1)},className:"material-icons",style:{fontSize:"50px",position:"absolute",left:"-5px"},children:"chevron_left"})}),Object(s.jsx)(J.a,{src:e.chat.chatImg}),Object(s.jsx)("div",{className:"messages__headerInfo",children:Object(s.jsx)("h3",{children:e.chat.chatName})}),Object(s.jsxs)("div",{className:"messages__headerRight",children:[Object(s.jsx)(te.a,{children:Object(s.jsx)(ne.a,{})}),Object(s.jsx)(te.a,{children:Object(s.jsx)(se.a,{})})]})]}),Object(s.jsx)("div",{className:"messages__body",children:e.messages.map((function(t){return Object(s.jsx)(ce,{userName:e.user.displayName,message:t},t._id)}))}),Object(s.jsxs)("div",{className:"messages__footer",children:[Object(s.jsx)("i",{onClick:function(){return j(!u)},className:"material-icons emojicon",style:{fontSize:"35px",cursor:"pointer",width:"35px"},children:"insert_emoticon"}),Object(s.jsx)("input",{value:r,onChange:function(e){i(e.target.value),j(!1)},onKeyUp:function(e){return!(13!==e.keyCode||!r)&&O()},type:"text",placeholder:"Enter your message"}),Object(s.jsx)("button",{onClick:O,disabled:!r,children:Object(s.jsx)("i",{className:"material-icons",style:{fontSize:"35px",cursor:"pointer",width:"35px"},children:"send"})})]}),u&&Object(s.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"1000"},children:Object(s.jsx)(re.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){p(t)}})})]})},oe=Object(q.b)((function(e){return{messages:e.dialogsPage.messages,chat:e.dialogsPage.chat,user:e.auth.user,token:e.auth.token}}),(function(e){return{sendMessage:function(){e({type:"SEND_MESSAGE"})},setMessages:function(t){e(h(t))},setChat:function(t){e(p(t))},setIsDialogSelected:function(t){e(O(t))}}}))(ie),le=Object(q.b)((function(e){return{isDialogSelected:e.dialogsPage.isDialogSelected}}))((function(e){return Object(s.jsxs)("div",{className:"dialogs-page",children:[Object(s.jsx)(ee,{}),e.isDialogSelected?Object(s.jsx)(oe,{}):Object(s.jsx)("div",{className:"chooseChat",children:"Choose a chat"})]})})),ue=(n(45),Object(q.b)((function(e){return{token:e.auth.token,user:e.auth.user}}))((function(e){var t=e.post,n=e.token,c=e.user,a=R(),r=(a.loading,a.error,a.request),i=(a.clearError,Object(D.useState)(t.likes.includes(c._id))),o=Object(M.a)(i,2),l=o[0],u=o[1],j=Object(D.useState)(!1),d=Object(M.a)(j,2),h=d[0],b=d[1],p=Object(D.useState)(t.likes.length),O=Object(M.a)(p,2),m=O[0],f=O[1],g=Object(D.useState)(t.comments),x=Object(M.a)(g,2),v=x[0],w=x[1],k=Object(D.useState)(t.comments.length),N=Object(M.a)(k,2),S=N[0],y=N[1],E=Object(D.useState)(!1),_=Object(M.a)(E,2),T=_[0],C=_[1],I=Object(D.useState)(""),P=Object(M.a)(I,2),A=P[0],z=P[1],B=Object(D.useRef)(null),L=Object(D.useState)(null),F=Object(M.a)(L,2),q=F[0],W=F[1],K=Object(D.useState)(!1),Y=Object(M.a)(K,2),X=Y[0],Q=Y[1];Object(D.useEffect)(Object(H.a)(U.a.mark((function e(){var s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=5;break}return e.next=3,r("/api/posts/put/".concat(l?"like":"unlike"),"PUT",{postId:t._id},{Authorization:"Bearer ".concat(n)});case 3:s=e.sent,f(s.likes.length);case 5:case"end":return e.stop()}}),e)}))),[l]);var V=function(){var e=Object(H.a)(U.a.mark((function e(){var s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("/api/posts/put/comment","PUT",{postId:t._id,text:A},{Authorization:"Bearer ".concat(n)});case 2:s=e.sent,w(s.comments),z(""),y(s.comments.length),Q(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.useEffect)((function(){B.current.classList.toggle("show-comments")}),[T]),Object(D.useEffect)((function(){w(v.sort((function(e,t){return t.timestamp-e.timestamp})))}),[v]),Object(D.useEffect)((function(){q&&z((function(e){return e+q.emoji}))}),[q]),Object(s.jsx)("div",{className:"element",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsxs)(G.b,{to:c._id!==t.owner._id?"/profile/"+t.owner._id:"/profile",children:[Object(s.jsx)(J.a,{src:t.owner.profileImg}),Object(s.jsx)("p",{children:t.owner.displayName})]})}),Object(s.jsx)("div",{className:"card-image",children:Object(s.jsx)("img",{src:t.picture,alt:""})}),Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("i",{onClick:function(){b(!0),u(!l)},className:"material-icons",style:{fontSize:"35px",cursor:"pointer",color:"red"},children:l?"favorite":"favorite_border"}),Object(s.jsx)("small",{children:Object(s.jsxs)("strong",{children:["Likes: ",m]})}),Object(s.jsxs)("p",{children:[Object(s.jsx)("strong",{children:t.owner.displayName})," ",t.body]}),Object(s.jsx)("div",{children:Object(s.jsxs)("strong",{className:"show-comments-btn",onClick:function(){return C(!T)},children:[T?"Hide":"Show"," all comments (",S,")"]})}),Object(s.jsx)("div",{className:"comments show-comments",ref:B,children:v.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:e.owner.displayName})," ",e.text]},e._id)}))}),Object(s.jsx)("div",{className:"timestamp",children:t.createdAt})]}),Object(s.jsxs)("div",{className:"new-comment",children:[X&&Object(s.jsx)("div",{style:{position:"absolute",top:"50px",left:"50%",transform:"translateX(-50%)",zIndex:"1000"},children:Object(s.jsx)(re.a,{disableAutoFocus:!0,onEmojiClick:function(e,t){W(t)}})}),Object(s.jsx)("i",{onClick:function(){return Q(!X)},className:"material-icons emojicon",style:{fontSize:"35px",cursor:"pointer",width:"35px"},children:"insert_emoticon"}),Object(s.jsx)("input",{value:A,onChange:function(e){z(e.target.value),Q(!1)},onKeyUp:function(e){return!(13!==e.keyCode||!A)&&V()},type:"text",placeholder:"Add a comment..."}),Object(s.jsx)("button",{onClick:V,disabled:!A,children:"Publish"})]})]})})}))),je=Object(q.b)((function(e){return{token:e.auth.token,user:e.auth.user}}),(function(e){return{login:function(t,n){e(C(t,n))}}}))((function(e){var t=R(),n=(t.error,t.request),c=(t.clearError,Object(D.useState)(!1)),a=Object(M.a)(c,2),r=a[0],i=a[1],o=Object(D.useState)(!1),l=Object(M.a)(o,2),u=l[0],j=l[1],d=Object(D.useState)(!1),h=Object(M.a)(d,2),b=h[0],p=h[1],O=Object(D.useState)(""),m=Object(M.a)(O,2),f=m[0],g=m[1],x=Object(D.useState)(""),v=Object(M.a)(x,2),w=v[0],k=v[1],N=Object(D.useState)(""),S=Object(M.a)(N,2),y=S[0],E=S[1],_=Object(D.useState)(null),T=Object(M.a)(_,2),C=T[0],I=T[1],P=Object(D.useState)(null),A=Object(M.a)(P,2),z=A[0],B=A[1],G=Object(D.useState)(null),L=Object(M.a)(G,2),F=L[0],q=L[1],W=Object(D.useState)(!1),J=Object(M.a)(W,2),K=J[0],Y=J[1],X=Object(D.useState)(null),Q=Object(M.a)(X,2),V=Q[0],$=Q[1];Object(D.useEffect)(Object(H.a)(U.a.mark((function t(){var s,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/api/posts/get/myposts","GET",null,{Authorization:"Bearer ".concat(e.token)});case 2:return s=t.sent,t.next=5,n("/api/users/get/myfollowdata","GET",null,{Authorization:"Bearer ".concat(e.token)});case 5:c=t.sent,new Promise((function(e,t){0===s.posts.length&&e();for(var n=function(t){var n=document.createElement("img");n.src=s.posts[t].picture,n.onload=function(){s.posts[t].params=n.width>=n.height?{height:"100%",minWidth:"100%",width:"none",minHeight:"none"}:{height:"none",minWidth:"none",width:"100%",minHeight:"100%"},t+1===s.posts.length&&e()}},c=0;c<s.posts.length;++c)n(c)})).then((function(){B(c),I(s.posts)})),new Promise((function(t,n){var s=document.createElement("img");s.src=e.user.profileImg,s.onload=function(){q((function(){return s.width>s.height?{height:"100%",minWidth:"100%"}:s.width<s.height?{width:"100%",minHeight:"100%"}:{height:"100%",width:"100%"}})),t()}}));case 8:case"end":return t.stop()}}),t)}))),[]);var ee=function(){var t=Object(H.a)(U.a.mark((function t(){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Y(!0),(s=new FormData).append("file",w),s.append("upload_preset","kalina-why-not"),s.append("cloud_name","kalina-why-not"),t.next=7,fetch("https://api.cloudinary.com/v1_1/kalina-why-not/image/upload",{method:"POST",body:s}).then((function(e){return e.json()})).then(function(){var t=Object(H.a)(U.a.mark((function t(s){var c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/api/posts/new/post","POST",{body:f,picture:s.url},{Authorization:"Bearer ".concat(e.token)});case 2:return t.next=4,n("/api/posts/get/myposts","GET",null,{Authorization:"Bearer ".concat(e.token)});case 4:c=t.sent,I(c.posts),Y(!1),i(!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=function(){var t=Object(H.a)(U.a.mark((function t(){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Y(!0),(s=new FormData).append("file",y),s.append("upload_preset","kalina-why-not"),s.append("cloud_name","kalina-why-not"),t.next=7,fetch("https://api.cloudinary.com/v1_1/kalina-why-not/image/upload",{method:"POST",body:s}).then((function(e){return e.json()})).then(function(){var t=Object(H.a)(U.a.mark((function t(s){var c,a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/api/users/put/profileImg","PUT",{picture:s.url},{Authorization:"Bearer ".concat(e.token)});case 2:c=t.sent,sessionStorage.setItem("storageName",JSON.stringify({token:e.token,user:c})),(a=JSON.parse(sessionStorage.getItem("storageName")))&&a.token&&e.login(a.token,a.user),Y(!1),p(!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ne=function(){var t=Object(H.a)(U.a.mark((function t(s){var c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Y(!0),t.next=3,n("/api/posts/delete/post/".concat(s),"DELETE",null,{Authorization:"Bearer ".concat(e.token)});case 3:return t.next=5,n("/api/posts/get/myposts","GET",null,{Authorization:"Bearer ".concat(e.token)});case 5:c=t.sent,new Promise((function(e,t){0===c.posts.length&&e();for(var n=function(t){var n=document.createElement("img");n.src=c.posts[t].picture,n.onload=function(){c.posts[t].params=n.width>=n.height?{height:"100%",minWidth:"100%",width:"none",minHeight:"none"}:{height:"none",minWidth:"none",width:"100%",minHeight:"100%"},t+1===c.posts.length&&e()}},s=0;s<c.posts.length;++s)n(s)})).then((function(){I(c.posts)})),Y(!1),j(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.jsx)(s.Fragment,{children:C?Object(s.jsxs)("div",{className:"profile-page",children:[Object(s.jsxs)("div",{className:"profile__info",children:[Object(s.jsx)("div",{className:"avatar",children:Object(s.jsx)("img",{style:F,src:e.user.profileImg,alt:""})}),Object(s.jsxs)("div",{className:"info",children:[Object(s.jsxs)("div",{className:"name-settings",children:[Object(s.jsx)("h1",{children:e.user.displayName}),Object(s.jsxs)("div",{children:[Object(s.jsx)("i",{onClick:function(){return p(!0)},className:"material-icons",children:"settings"}),Object(s.jsx)("i",{onClick:function(){return i(!0)},className:"material-icons",children:"add_to_photos"})]})]}),Object(s.jsxs)("div",{className:"attributes",children:[Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:C.length})," posts"]}),Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:z.followers.length})," followers"]}),Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:z.following.length})," following"]})]})]})]}),Object(s.jsxs)("div",{className:"mobile-attributes",children:[Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:C.length})," posts"]}),Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:z.followers.length})," followers"]}),Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:z.following.length})," following"]})]}),Object(s.jsx)("div",{className:"profile__gallery",children:C.map((function(e){return Object(s.jsx)("div",{onClick:function(){$(e),j(!0)},children:Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:e.picture,alt:"",style:e.params})})},e._id)}))}),b&&Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"modal-window",children:[K&&Object(s.jsx)(Z,{}),Object(s.jsx)("i",{onClick:function(){return p(!1)},className:"material-icons close-btn",children:"clear"}),Object(s.jsxs)("div",{className:"newPostBody",children:[Object(s.jsx)("h1",{children:"Account settings"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Upload image"}),Object(s.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/bmp",onChange:function(e){return E(e.target.files[0])}})]}),Object(s.jsx)("button",{onClick:te,children:"Submit"})]})]})}),r&&Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"modal-window",children:[K&&Object(s.jsx)(Z,{}),Object(s.jsx)("i",{onClick:function(){return i(!1)},className:"material-icons close-btn",children:"clear"}),Object(s.jsxs)("div",{className:"newPostBody",children:[Object(s.jsx)("span",{children:"Description"}),Object(s.jsx)("input",{type:"text",placeholder:"Enter Description",value:f,onChange:function(e){return g(e.target.value)}}),Object(s.jsx)("span",{children:"Upload image"}),Object(s.jsx)("input",{type:"file",accept:"image/jpeg,image/png,image/bmp",onChange:function(e){return k(e.target.files[0])}}),Object(s.jsx)("button",{onClick:ee,children:"Submit"})]})]})}),V&&u&&Object(s.jsxs)("div",{className:"modal-window",children:[K&&Object(s.jsx)(Z,{}),Object(s.jsx)("i",{onClick:function(){return ne(V._id)},className:"material-icons delete-btn",children:"delete"}),Object(s.jsx)("i",{onClick:function(){return j(!1)},className:"material-icons close-btn",children:"clear"}),Object(s.jsx)(ue,{post:V})]})]}):Object(s.jsx)(Z,{})})})),de=Object(q.b)((function(e){return{token:e.auth.token,user:e.auth.user}}))((function(e){var t=R(),n=(t.error,t.request),c=(t.clearError,Object(D.useState)(null)),a=Object(M.a)(c,2),r=a[0],i=a[1],o=Object(D.useState)(null),l=Object(M.a)(o,2),u=l[0],j=l[1],d=Object(D.useState)(null),h=Object(M.a)(d,2),b=h[0],p=h[1],O=Object(L.g)().userId,m=Object(D.useState)(!1),f=Object(M.a)(m,2),g=f[0],x=f[1],v=Object(D.useState)(null),w=Object(M.a)(v,2),k=w[0],N=w[1];Object(D.useEffect)(Object(H.a)(U.a.mark((function t(){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/api/users/get/user/".concat(O),"GET",null,{Authorization:"Bearer ".concat(e.token)});case 2:s=t.sent,new Promise((function(e,t){0===s.posts.length&&e();for(var n=function(t){var n=document.createElement("img");n.src=s.posts[t].picture,n.onload=function(){s.posts[t].params=n.width>=n.height?{height:"100%",minWidth:"100%",width:"none",minHeight:"none"}:{height:"none",minWidth:"none",width:"100%",minHeight:"100%"},t+1===s.posts.length&&e()}},c=0;c<s.posts.length;++c)n(c)})).then((function(){i(s),j(s.user.followers.includes(e.user._id))}));case 4:case"end":return t.stop()}}),t)}))),[]),Object(D.useEffect)((function(){r&&new Promise((function(e,t){var n=document.createElement("img");n.src=r.user.profileImg,n.onload=function(){p(n.width>=n.height?{height:"100%",minWidth:"100%",width:"none",minHeight:"none"}:{height:"none",minWidth:"none",width:"100%",minHeight:"100%"}),e()}}))}),[r]);var S=function(){var t=Object(H.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/api/users/put/follow","PUT",{followId:O},{Authorization:"Bearer ".concat(e.token)});case 2:t.sent,i((function(e){return e.user.followers.push(""),e})),j(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(H.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/api/users/put/unfollow","PUT",{unfollowId:O},{Authorization:"Bearer ".concat(e.token)});case 2:t.sent,i((function(e){return e.user.followers.pop(),e})),j(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(H.a)(U.a.mark((function t(){var s,c,a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"prompt",s="Hello",t.prev=2,c="",t.next=6,n("/api/chats/new/conversation","POST",{chatName:"prompt",other:O},{Authorization:"Bearer ".concat(e.token)});case 6:return a=t.sent,c=a._id,t.next=10,n("/api/chats/new/message?id=".concat(c),"POST",{message:s,timestamp:Date.now()},{Authorization:"Bearer ".concat(e.token)});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}();return Object(s.jsx)(s.Fragment,{children:r?Object(s.jsxs)("div",{className:"profile-page",children:[Object(s.jsxs)("div",{className:"profile__info",children:[Object(s.jsx)("div",{className:"avatar",children:Object(s.jsx)("img",{style:b,src:r.user.profileImg,alt:""})}),Object(s.jsxs)("div",{className:"info",children:[Object(s.jsxs)("div",{className:"name-settings",children:[Object(s.jsx)("h1",{children:r.user.displayName}),Object(s.jsxs)("div",{className:"btn-wrapper",children:[u?Object(s.jsx)("button",{onClick:y,children:"Unfollow"}):Object(s.jsx)("button",{onClick:S,children:"Follow"}),Object(s.jsx)("button",{onClick:E,children:"Send message"})]})]}),Object(s.jsxs)("div",{className:"attributes",children:[Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:r.posts.length})," posts"]}),Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:r.user.followers.length})," followers"]}),Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:r.user.following.length})," following"]})]})]})]}),Object(s.jsxs)("div",{className:"mobile-attributes",children:[Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:r.posts.length})," posts"]}),Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:r.user.followers.length})," followers"]}),Object(s.jsxs)("h3",{children:[Object(s.jsx)("strong",{children:r.user.following.length})," following"]})]}),Object(s.jsx)("div",{className:"profile__gallery",children:r.posts.map((function(e){return Object(s.jsx)("div",{onClick:function(){N(e),x(!0)},children:Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:e.picture,alt:"",style:e.params})})},e._id)}))}),k&&g&&Object(s.jsxs)("div",{className:"modal-window",children:[Object(s.jsx)("i",{onClick:function(){return x(!1)},className:"material-icons close-btn",children:"clear"}),Object(s.jsx)(ue,{post:k})]})]}):Object(s.jsx)(Z,{})})})),he=(n(74),function(e){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:Object(s.jsx)(G.b,{children:Object(s.jsx)("img",{alt:"",src:W,className:"userPhoto"})})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{children:"Unfollow"}),Object(s.jsx)("button",{children:"Follow"})]})]}),Object(s.jsxs)("span",{children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:"u.name"}),Object(s.jsx)("div",{children:"u.status"})]}),Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:"u.location.country"}),Object(s.jsx)("div",{children:"u.location.city"})]})]})]})})}),be=(n(75),n(76),Object(q.b)((function(e){return{token:e.auth.token}}))((function(e){var t=Object(D.useState)([]),n=Object(M.a)(t,2),c=n[0],a=n[1],r=Object(D.useState)(!0),i=Object(M.a)(r,2),o=i[0],l=i[1],u=R(),j=(u.error,u.request);u.clearError;return Object(D.useEffect)(Object(H.a)(U.a.mark((function t(){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("/api/posts/get/posts","GET",null,{Authorization:"Bearer ".concat(e.token)});case 2:n=t.sent,a(n.posts),l(!1);case 5:case"end":return t.stop()}}),t)}))),[]),Object(s.jsxs)("div",{className:"home-page",children:[o&&Object(s.jsx)(Z,{}),Object(s.jsx)("div",{className:"home-page__inner",children:c.map((function(e){return Object(s.jsx)(ue,{post:e},e._id)}))})]})}))),pe=n(33),Oe=(n(77),Object(q.b)((function(e){return{token:e.auth.token}}),(function(e){return{login:function(t,n){e(C(t,n))}}}))((function(e){var t=e.login,n=Object(D.useCallback)((function(e){window.M&&e&&window.M.toast({html:e})}),[]),c=R(),a=c.error,i=c.request,o=c.clearError,l=Object(D.useState)(!1),u=Object(M.a)(l,2),j=u[0],d=u[1],h=Object(D.useState)({email:"",displayName:"",password:""}),b=Object(M.a)(h,2),p=b[0],O=b[1],m=Object(D.useState)(!1),f=Object(M.a)(m,2),g=f[0],x=f[1];Object(D.useEffect)((function(){n(a),o()}),[a,n,o]),Object(D.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("storageName"));e&&e.token&&t(e.token,e.user)}),[t]);var v=function(e){O(Object(r.a)(Object(r.a)({},p),{},Object(pe.a)({},e.target.name,e.target.value)))},w=function(){var t=Object(H.a)(U.a.mark((function t(){var s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d(!0),t.next=4,i("/api/auth/register","POST",Object(r.a)({},p),{Authorization:"Bearer ".concat(e.token)});case 4:s=t.sent,n(s.message),d(!1),N(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0.message),d(!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),k=function(){var n=Object(H.a)(U.a.mark((function n(){var s;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,d(!0),n.next=4,i("/api/auth/login","POST",Object(r.a)({},p),{Authorization:"Bearer ".concat(e.token)});case 4:s=n.sent,t(s.token,s.user),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),alert(n.t0.message),d(!1);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),N=function(){x(!g)};return Object(s.jsx)(s.Fragment,{children:j?Object(s.jsx)(Z,{}):Object(s.jsxs)("div",{className:"split-screen",children:[Object(s.jsx)("div",{className:"left",children:Object(s.jsxs)("section",{className:"copy",children:[Object(s.jsx)("h1",{children:"Kalina"}),Object(s.jsx)("p",{children:"Text for the beauty."})]})}),Object(s.jsx)("div",{className:"right",children:Object(s.jsxs)("form",{children:[Object(s.jsxs)("section",{className:"copy",children:[Object(s.jsxs)("h2",{children:["Sign ",g?"up":"in"]}),Object(s.jsx)("div",{className:"login-container",children:g?Object(s.jsxs)("p",{children:["Already have an account? ",Object(s.jsx)("a",{onClick:N,children:Object(s.jsx)("strong",{children:"Sign in!"})})]}):Object(s.jsxs)("p",{children:["Don't have an account? ",Object(s.jsx)("a",{onClick:N,children:Object(s.jsx)("strong",{children:"Sign up!"})})]})})]}),g&&Object(s.jsxs)("div",{className:"input-container name",children:[Object(s.jsx)("label",{htmlFor:"displayName",children:"Nickname"}),Object(s.jsx)("input",{name:"displayName",id:"displayName",type:"text",value:p.displayName,onChange:v,required:!0})]}),Object(s.jsxs)("div",{className:"input-container email",children:[Object(s.jsx)("label",{htmlFor:"email",children:"Email"}),Object(s.jsx)("input",{name:"email",id:"email",type:"email",value:p.email,onChange:v,required:!0})]}),Object(s.jsxs)("div",{className:"input-container password",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)("input",{name:"password",id:"password",type:"password",value:p.password,onChange:v,placeholder:"At least 6 characters!",required:!0}),Object(s.jsx)("i",{className:"far fa-eye-slash"})]}),g?Object(s.jsx)("button",{className:"signup-btn",type:"submit",onClick:w,children:"Sign up"}):Object(s.jsx)("button",{className:"signup-btn",type:"submit",onClick:k,children:"Sign in"}),Object(s.jsx)("section",{className:"copy legal",children:Object(s.jsx)("p",{children:Object(s.jsxs)("span",{className:"small",children:["By continuing, you agree to accept our ",Object(s.jsx)("br",{}),Object(s.jsx)("a",{children:"Privacy Policy"})," & ",Object(s.jsx)("a",{children:"Terms of Service"}),"."]})})})]})})]})})}))),me=Object(q.b)((function(e){return{token:e.auth.token}}),(function(e){return{login:function(t,n){e(C(t,n))}}}))((function(e){var t=JSON.parse(sessionStorage.getItem("storageName")),n=Object(D.useRef)(null),c=!!e.token,a=Object(s.jsxs)(L.c,{children:[Object(s.jsx)(L.a,{path:"/dialogs",component:le}),Object(s.jsx)(L.a,{exact:!0,path:"/profile",render:function(){return Object(s.jsx)(je,{})}}),Object(s.jsx)(L.a,{exact:!0,path:"/profile/:userId",render:function(){return Object(s.jsx)(de,{})}}),Object(s.jsx)(L.a,{exact:!0,path:"/users",render:function(){return Object(s.jsx)(he,{})}}),Object(s.jsx)(L.a,{exact:!0,path:"/",component:be})]});function r(){try{n.current.style.height=document.body.clientHeight-(c?40:0)+"px"}catch(e){}}return t&&t.token&&e.login(t.token,t.user),Object(D.useEffect)((function(){return r(),window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[c]),Object(s.jsx)(G.a,{children:c?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"white-line"}),Object(s.jsxs)("div",{className:"app",children:[Object(s.jsx)(K,{}),Object(s.jsx)("div",{ref:n,className:"app-wrapper",children:a})]})]}):Object(s.jsx)(L.a,{path:"/",exact:!0,component:Oe})})})),fe=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(fe,"px")),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))})),B.a.render(Object(s.jsx)(q.a,{store:A,children:Object(s.jsx)(me,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.be4a69d7.chunk.js.map